window.__require=function t(e,o,n){function i(c,s){if(!o[c]){if(!e[c]){var a=c.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+c+"'")}}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return i(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({arrow:[function(t,e,o){"use strict";cc._RF.push(e,"eb75f5pLItAXL6o9xlRo1Wx","arrow");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.graphics=void 0,e.w=0,e.h=0,e}return n(e,t),e.prototype.onLoad=function(){this.graphics=this.node.getComponent(cc.Graphics),this.getNodeSize()},e.prototype.start=function(){this.createArrow(),this.move()},e.prototype.getNodeSize=function(){this.w=this.node.width,this.h=this.node.height},e.prototype.createArrow=function(){var t=this.w,e=this.h;this.graphics.moveTo(-t/3,-e/2),this.graphics.lineTo(-t/3,.2*e),this.graphics.lineTo(-t/2,.2*e),this.graphics.lineTo(0,e/2),this.graphics.lineTo(t/2,.2*e),this.graphics.lineTo(t/3,.2*e),this.graphics.lineTo(t/3,-e/2),this.graphics.lineTo(-t/3,-e/2),this.graphics.stroke(),this.graphics.fill()},e.prototype.move=function(){var t=this.h,e=cc.moveBy(.5,cc.v2(0,t/10)),o=cc.moveBy(.5,cc.v2(0,-t/10));this.node.runAction(cc.repeatForever(cc.sequence(e,o)))},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],buffCtl:[function(t,e,o){"use strict";cc._RF.push(e,"9992frY4fdPhYZoXajXuG7R","buffCtl");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishJson=null,e.fishArr=[],e}return n(e,t),e.prototype.onLoad=function(){this.fishArr=this.fishJson.json},e.prototype.start=function(){},i([s({type:cc.JsonAsset})],e.prototype,"fishJson",void 0),e=i([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],buffEnum:[function(t,e,o){"use strict";var n;cc._RF.push(e,"55b0f7/roJOEqfrpBBRTyu3","buffEnum"),Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.speedUp=1]="speedUp",t[t.hpUp=2]="hpUp"}(n||(n={})),o.Buff=n,cc._RF.pop()},{}],bullet:[function(t,e,o){"use strict";cc._RF.push(e,"b40ccvb3r5BAbtVOAdLDDPm","bullet");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,t("../model/pools")),a=t("../model/player"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isPuncture=!1,e.isSpring=!1,e.hurt=1,e}return n(e,t),e.prototype.onLoad=function(){this.hurt=a.default.bulletHurt,this.isPuncture=a.default.isPuncture,this.isSpring=a.default.isSpring},e.prototype.start=function(){},e.prototype.update=function(t){this.node.position=this.node.position.add(this.dir.mul(this.speed))},e.prototype.init=function(t,e){this.dir=t,this.speed=5},e.prototype.bounce=function(){},e.prototype.onCollisionEnter=function(t,e){"border"===t.node.group?this.isSpring?0===t.tag||2===t.tag?(this.node.rotation=180-this.node.rotation,this.dir.y=-this.dir.y):1!==t.tag&&3!==t.tag||(this.node.rotation=-this.node.rotation,this.dir.x=-this.dir.x):s.default.bulletPool.put(e.node):"fish"===t.node.group&&(this.isPuncture?(this.hurt--,0===this.hurt&&s.default.bulletPool.put(e.node)):s.default.bulletPool.put(e.node))},e.prototype.reuse=function(){this.hurt=a.default.bulletHurt,this.isPuncture=a.default.isPuncture,this.isSpring=a.default.isSpring},e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../model/player":"player","../model/pools":"pools"}],cdMask:[function(t,e,o){"use strict";cc._RF.push(e,"a6085u4zJVLwp4I4mQBXXTy","cdMask");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../model/pools"),c=cc._decorator,s=c.ccclass,a=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cd=0,e.passedTime=0,e}return n(e,t),e.prototype.start=function(){},e.prototype.update=function(t){if(this.cd>0){this.passedTime+=t,this.node.getComponent(cc.Sprite).fillRange<=0?(this.node.getComponent(cc.Sprite).fillRange=0,this.cd=0,this.passedTime=0,r.default.cdMaskPool.put(this.node)):this.node.getComponent(cc.Sprite).fillRange=1-this.passedTime/this.cd;var e=(this.cd-this.passedTime).toFixed(1);this.writeText(e+"s")}},e.prototype.unuse=function(){this.node.getComponent(cc.Sprite).fillRange=1,this.writeText("")},e.prototype.startCd=function(t){this.cd=t},e.prototype.writeText=function(t){this.node.getChildByName("label").getComponent(cc.Label).string=t},e=i([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{"../model/pools":"pools"}],checkerboard:[function(t,e,o){"use strict";cc._RF.push(e,"f0dfaF4OARIUIeZUvG9loa+","checkerboard");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r,c=cc._decorator,s=c.ccclass;c.property;(function(t){t[t.nochess=7]="nochess",t[t.oneAi=35]="oneAi",t[t.twoAi=800]="twoAi",t[t.threeAi=15e3]="threeAi",t[t.fourAi=8e5]="fourAi",t[t.oneplayer=15]="oneplayer",t[t.twoplayer=400]="twoplayer",t[t.threeplayer=1800]="threeplayer",t[t.fourplayer=1e5]="fourplayer"})(r||(r={}));var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winArray=new Array,e.count=0,e.blackWin=new Array,e.whiteWin=new Array,e.canDown=!0,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){cc.log(this.canDown),o.instance=this,this.screen(),o.color="black",o.Graphics=this.node.getComponent(cc.Graphics),o.canvasHeight=this.node.parent.height,o.canvasWidth=this.node.parent.width,cc.log(o.canvasHeight),cc.log(o.canvasWidth),o.boardHeight=this.node.height,o.boardWidth=this.node.width,cc.log(o.boardHeight),cc.log(o.boardWidth),this.putColor(o.Graphics,o.canvasWidth),this.initboard(o.Graphics,o.boardHeight,o.boardWidth),this.initTwoArray(o.downChess,11,11),this.initTwoArray(o.score,11,11),this.initAllWins(),cc.log(this.winArray)},e.prototype.start=function(){for(var t=0;t<this.count;t++)this.blackWin[t]=0,this.whiteWin[t]=0},e.prototype.onEnable=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(e){cc.log(t.getLocation(e.getLocation())),t.downChess(o.Graphics,e.getLocation(),o.color)})},e.prototype.screen=function(){var t=cc.winSize;cc.log(t),t.width<=t.height?this.node.height=this.node.width=Math.ceil(t.width)-70:this.node.height=this.node.width=Math.ceil(t.height)-70},e.prototype.initTwoArray=function(t,e,o){for(var n=0;n<e;n++){t.push([]);for(var i=0;i<o;i++)t[n][i]=0}},e.prototype.initboard=function(t,e,o){for(var n=0;n<=10;n++)t.moveTo(-o/2,e/2-n*e/10),t.lineTo(o/2,e/2-n*e/10),t.moveTo(-o/2+n*o/10,e/2),t.lineTo(-o/2+n*o/10,-o/2),t.strokeColor=cc.Color.BLACK,t.stroke()},e.prototype.putColor=function(t,e){t.rect(-e/2,-e/2,e,e),t.fillColor=cc.color(226,231,45),t.fill()},e.prototype.getLocation=function(t){var e=this.node.convertToNodeSpaceAR(t),n=e.x%(o.boardWidth/10),i=e.y%(o.boardHeight/10),r=new cc.Vec2;return r.x=this.correct(n,e.x),r.y=this.correct(i,e.y),r},e.prototype.correct=function(t,e){return Math.abs(t)<=o.boardWidth/20?e-=t:e=t>0?e+o.boardWidth/10-t:e-t-o.boardWidth/10,e},e.prototype.chess=function(t,e,o){"black"===o?t.fillColor=cc.Color.BLACK:"white"===o&&(t.fillColor=cc.Color.WHITE),t.circle(e.x,e.y,25),t.fill()},e.prototype.changeColor=function(t){"black"===t?o.color="white":"white"===t&&(o.color="black")},e.prototype.changeChessArray=function(t,e,n){"black"===n?o.downChess[t][e]=1:"white"===n&&(o.downChess[t][e]=2)},e.prototype.changeNodeToArray=function(t){var e=t.x/(o.boardWidth/10)+5,n=t.y/(o.boardHeight/10)+5;return cc.v2(e,n)},e.prototype.changeArrayToNode=function(t){var e=(t.x-5)*(o.boardWidth/10),n=(t.y-5)*(o.boardHeight/10);return cc.v2(e,n)},e.prototype.win=function(t,e,o){for(var n=0;n<this.count;n++)this.winArray[e][o][n]&&("black"==t?(this.blackWin[n]++,this.whiteWin[n]=99):"white"==t&&(this.whiteWin[n]++,this.blackWin[n]=99)),5==this.blackWin[n]?(console.log("black win!"),cc.game.restart()):5==this.whiteWin[n]&&(console.log("white win!"),cc.game.restart())},e.prototype.downChess=function(t,e,n){var i=this,r=this.getLocation(e);cc.log(r);var c=this.changeNodeToArray(r),s=c.x,a=c.y;if(0===o.downChess[s][a]&&this.canDown){this.addChess(c,r,t,n),this.putScore(o.color);var l=this.getBestPosition(),u=this.changeArrayToNode(l);this.scheduleOnce(function(){i.addChess(l,u,t,o.color)},.1)}},e.prototype.addChess=function(t,e,n,i){var r=t.x,c=t.y;cc.log(this),0===o.downChess[r][c]&&(this.canDown=!this.canDown,this.changeChessArray(r,c,i),this.chess(n,e,i),this.changeColor(i),this.win(i,r,c),o.score[r][c]=0)},e.prototype.initAllWins=function(){for(var t=0;t<=10;t++){this.winArray[t]=new Array;for(var e=0;e<=10;e++)this.winArray[t][e]=new Array}for(t=0;t<=6;t++)for(e=0;e<=10;e++){for(var o=0;o<=4;o++)this.winArray[t+o][e][this.count]=!0;this.count++}for(t=0;t<=10;t++)for(e=0;e<=6;e++){for(o=0;o<=4;o++)this.winArray[t][e+o][this.count]=!0;this.count++}for(t=0;t<=6;t++)for(e=0;e<=6;e++){for(o=0;o<=4;o++)this.winArray[t+o][e+o][this.count]=!0;this.count++}for(t=4;t<=10;t++)for(e=0;e<=6;e++){for(o=0;o<=4;o++)this.winArray[t-o][e+o][this.count]=!0;this.count++}},e.prototype.putScore=function(t){for(var e=0;e<=10;e++)for(var n=0;n<=10;n++)o.downChess[e][n]||("white"===t?this.Calculation(e,n,this.whiteWin,this.blackWin):"black"===t&&this.Calculation(e,n,this.blackWin,this.whiteWin))},e.prototype.Calculation=function(t,e,n,i){for(var c=0,s=0;s<this.count;s++)if(this.winArray[t][e][s]){switch(n[s]){case 1:c+=r.oneAi;break;case 2:c+=r.twoAi;break;case 3:c+=r.threeAi;break;case 4:c+=r.fourAi;case 0:c+=r.nochess}switch(i[s]){case 1:c+=r.oneplayer;break;case 2:c+=r.twoplayer;break;case 3:c+=r.threeplayer;break;case 4:c+=r.fourplayer}}o.score[t][e]=c},e.prototype.getBestPosition=function(){for(var t=0,e=new cc.Vec2,n=0;n<11;n++)for(var i=0;i<11;i++)o.score[n][i]>=t&&(t=o.score[n][i],e=cc.v2(n,i));return e},e.prototype.getRandomPosition=function(){var t=1-Math.floor(3*Math.random()),e=1-Math.floor(3*Math.random());return cc.v2(t+5,e+5)},e.instance=null,e.Graphics=null,e.canvasHeight=0,e.canvasWidth=0,e.boardHeight=0,e.boardWidth=0,e.downChess=new Array,e.score=new Array,e=o=i([s],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],commonPool:[function(t,e,o){"use strict";cc._RF.push(e,"5d9dfwySfBMkr5KiKyvkJ0V","commonPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t,e,o){this.pool=null,this.curPrefab=null,this.pool=o?new cc.NodePool(o):new cc.NodePool,this.curPrefab=e,this.maxNumber=t+20,this.init(t,e)}return t.prototype.init=function(t,e){for(var o=0;o<t;o++){var n=cc.instantiate(e);this.pool.put(n)}},t.prototype.get=function(){if(this.pool.size()>0){var t=this.pool.get();return cc.log(this.pool.size()),t}return t=cc.instantiate(this.curPrefab)},t.prototype.put=function(t){this.pool.size()<this.maxNumber?this.pool.put(t):t.destroy()},t}();o.default=n,cc._RF.pop()},{}],convertPoint:[function(t,e,o){"use strict";cc._RF.push(e,"b6cbce491FIwptyUhcEpir+","convertPoint"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.worldToNode=function(t,e){return e.convertToNodeSpaceAR(t)},t.nodeToWorld=function(t,e){return e.convertToWorldSpaceAR(t)},t.nodeToNode=function(t,e,o){var n=this.nodeToWorld(t,e);return this.worldToNode(n,o)},t}();o.default=n,cc._RF.pop()},{}],firstLoadArea:[function(t,e,o){"use strict";cc._RF.push(e,"16afc5jaYtFgrtqE9LsWQSu","firstLoadArea");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../model/gameStatus"),c=t("../model/player"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;this.step(1).then(function(){return t.nextStep()}).then(function(){return t.step(2)}).then(function(){return t.nextStep()}).then(function(){return t.step(3).then(function(){return t.nextStep()}).then(function(){return t.step(4)})}).then(function(){return t.step5()}).then(function(){return t.step6()}).then(function(){return t.step7()}).then(function(){return t.step8()}).then(function(){return t.step9()}).then(function(){return t.finish()})},e.prototype.step=function(t){var e=this,o="step"+t,n=this.node.getChildByName(o);return this.activeNode(n),new Promise(function(t,o){setTimeout(function(){e.hideNode(n),t()},2e3)})},e.prototype.step5=function(){var t=this;r.default.canCreateFish=!0;var e=this.node.getChildByName("flashText");return this.activeNode(e),e.getComponent("text").putText("\u8bf7\u51fb\u67405\u6761\u666e\u901a\u9c7c,\u7cbe\u82f1\u9c7c\u5c06\u4f1a\u51fa\u73b0,\u5982\u679c\u666e\u901a\u9c7c\u6570\u91cf\u8d85\u8fc710\u6e38\u620f\u7ed3\u675f"),new Promise(function(o,n){var i=setInterval(function(){r.default.curBuff&&(t.hideNode(e),o(),clearInterval(i))},0)})},e.prototype.step6=function(){var t=this;r.default.canCreateFish=!1;var e=this.node.getChildByName("oneByOneText");this.node.getChildByName("mask").active=!0;return e.getComponent("text").putText("\u51fa\u73b0\u4e86\u4e00\u53ea\u7cbe\u82f1\u9c7c\uff0c\u6240\u6709\u9c7c\u7684\u5c5e\u6027\u90fd\u5f97\u5230\u4e86\u5f3a\u5316...../\u4ec5\u4f5c\u4e3a\u65b0\u624b\u5f15\u5bfc,\u505c\u6b62\u5236\u9020\u65b0\u7684\u666e\u901a\u9c7c...../\u5e76\u7279\u522b\u63d0\u4f9b100\u91d1\u5e01\u7528\u4e8e\u8d2d\u4e70\u6280\u80fd"),this.activeNode(e),new Promise(function(o,n){setTimeout(function(){t.hideNode(e),o()},12e3)})},e.prototype.step7=function(){var t=this;c.default.addGold(100);var e=this.node.getChildByName("step7");return this.node.getChildByName("mask").getComponent(cc.Mask).enabled=!0,this.activeNode(e),new Promise(function(o,n){var i=setInterval(function(){r.default.shop&&(t.node.getChildByName("mask").active=!1,t.hideNode(e),o(),clearInterval(i))},0)})},e.prototype.step8=function(){var t=this,e=this.node.getChildByName("step8");return e.getChildByName("text").getComponent("text").putText("\u540c\u4e00\u79cd\u6280\u80fd\u6bcf\u4e70\u4e00\u6b21\u4ef7\u683c\u90fd\u4f1a\u63d0\u9ad8...../\u91cd\u590d\u8d2d\u4e70\u6280\u80fd\u4f1a\u63d0\u5347\u5f53\u524d\u6280\u80fd\u7684\u7b49\u7ea7...../\u6280\u80fd\u5347\u7ea7\u4f1a\u968f\u673a\u5347\u7ea7\u5c5e\u6027...../\u5df2\u7ecf\u6ee1\u7ea7\u7684\u6280\u80fd\u4e0d\u4f1a\u51fa\u73b0\u5728\u5546\u5e97\u4e2d"),this.activeNode(e),new Promise(function(o,n){var i=setInterval(function(){r.default.shop||(t.hideNode(e),o(),clearInterval(i))},0)})},e.prototype.step9=function(){var t=this,e=this.node.getChildByName("flashText");return this.activeNode(e),e.getComponent("text").putText("\u5229\u7528\u6280\u80fd\u51fb\u8d25\u7cbe\u82f1\u9c7c\u5427"),new Promise(function(o,n){var i=setInterval(function(){r.default.curBuff||(t.hideNode(e),o(),clearInterval(i))})})},e.prototype.nextStep=function(){var t=this,e=this.node.getChildByName("flashText");return this.activeNode(e),e.getComponent("text").putText("\u70b9\u51fb\u5c4f\u5e55\u4efb\u610f\u4f4d\u7f6e\u7ee7\u7eed"),new Promise(function(o,n){t.node.once(cc.Node.EventType.TOUCH_END,function(){t.hideNode(e),o()})})},e.prototype.finish=function(){cc.sys.localStorage.setItem("first",1),cc.director.emit("newhandEnd")},e.prototype.activeNode=function(t){!1===t.active&&(t.active=!0);var e=t.children,o=e.length;if(o>=1)for(var n=0;n<o;n++)!1===e[n].active&&(e[n].active=!0)},e.prototype.hideNode=function(t){!0===t.active&&(t.active=!1);var e=t.children,o=e.length;if(o>=1)for(var n=0;n<o;n++)!0===e[n].active&&(e[n].active=!1)},e=i([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../model/gameStatus":"gameStatus","../model/player":"player"}],fish:[function(t,e,o){"use strict";cc._RF.push(e,"b0675mq5mBAMLRUNV0RtlKg","fish");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,t("../model/gameStatus")),a=t("../model/pools"),l=t("../model/buffEnum"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timer=0,e.canTurn=!1,e.limitTurn=0,e.borderSpeed=.5,e.clipArr=[],e.isElite=!1,e.info=void 0,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this.scheduleOnce(function(){return t.canTurn=!0},2)},e.prototype.onEnable=function(){var t=this;this.scheduleOnce(function(){return t.canTurn=!0},2)},e.prototype.start=function(){},e.prototype.update=function(t){this.canTurn&&(this.timer+=t,this.timer>=.3&&(this.rodomTurn(),this.timer=0));var e=this.node.rotation*Math.PI/180;this.border?this.node.position=this.node.position.add(cc.v2(Math.sin(e),Math.cos(e)).mul(this.borderSpeed)):this.node.position=this.node.position.add(cc.v2(Math.sin(e),Math.cos(e)).mul(this.unBorderSpeed)),this.hp>this.maxHp&&(this.hp=this.maxHp)},e.prototype.initFish=function(t,e,o){this.timer=0,this.canTurn=!1,this.limitTurn=0,this.maxHp=t,this.hp=t,this.unBorderSpeed=e,this.border=!1,this.dropEvent=o},e.prototype.rodomTurn=function(){var t=Math.random();t<.1&&this.limitTurn<8?(this.node.runAction(cc.rotateBy(.2,10)),this.limitTurn+=1):t<.2&&this.limitTurn<8?(this.node.runAction(cc.rotateBy(.2,20)),this.limitTurn+=2):t>=.9&&this.limitTurn>-8?(this.node.runAction(cc.rotateBy(.2,-10)),this.limitTurn-=1):t>=.8&&this.limitTurn>-8&&(this.node.runAction(cc.rotateBy(.2,-20)),this.limitTurn-=2)},e.prototype.fishDie=function(){var t=this.node.position;this.isElite?(this.unuse(),this.node.active=!1,this.node.parent=null,cc.director.emit("clearBuff"),s.default.curBuff=0,cc.director.emit("updateEliteFishLabel")):(a.default.fishPool.put(this.node),s.default.fishNum--,cc.director.emit("updateSoldierFishLabel"),s.default.curBuff?this.node.getComponent(l.Buff[s.default.curBuff]).enabled=!1:s.default.killNum++),this.dropEvent(t)},e.prototype.boderTest=function(){},e.prototype.reuse=function(){var t=this;this.bgNode&&this.clipArr||(this.bgNode=cc.find("bg",this.node),this.clipArr=this.bgNode.getComponent(cc.Animation).getClips()),this.bgNode.getComponent(cc.Animation).play(this.clipArr[0].name),this.scheduleOnce(function(){return t.canTurn=!0},2)},e.prototype.unuse=function(){this.unscheduleAllCallbacks(),this.node.stopAllActions(),this.bgNode&&this.bgNode.getComponent(cc.Animation)&&this.bgNode.getComponent(cc.Animation).stop(this.clipArr[0].name)},e.prototype.onCollisionEnter=function(t,e){var o=this;if("bullet"===t.node.group){this.node.getChildByName("bg").color=new cc.Color(255,0,0,0),this.scheduleOnce(function(){return o.node.getChildByName("bg").color=new cc.Color(255,255,255,0)},.1);var n=t.node.getComponent("bullet").hurt;this.hp-=n,this.hp<=0&&this.scheduleOnce(this.fishDie,.1)}else if("border"===t.node.group&&!0===this.canTurn){this.canTurn=!1,this.border=!0;var i=cc.callFunc(function(){o.canTurn=!0,o.border=!1}),r=cc.rotateTo(1,[0,-90,-180,90][t.tag]);e.node.runAction(cc.sequence(r,i))}},e=i([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../model/buffEnum":"buffEnum","../model/gameStatus":"gameStatus","../model/pools":"pools"}],gameCtl:[function(t,e,o){"use strict";cc._RF.push(e,"3065aucvClHIIDVIuYtXjDT","gameCtl");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=r.property,a=t("../../Common/commonPool"),l=t("./model/gameStatus"),u=t("./model/pools"),p=t("./model/player"),h=t("../../Common/convertPoint"),f=t("./model/buffEnum"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishArea=null,e.eliteFishArea=null,e.bulletArea=null,e.dropArea=null,e.clickArea=null,e.tipsArea=null,e.shop=null,e.skillsArea=null,e.fish=null,e.bullet=null,e.gold=null,e.numList=null,e.cdMask=null,e.info=null,e.tips=null,e.promptBox=null,e.mask=null,e.gun=null,e.fishJson=null,e.skillJson=null,e.refreshTime=60,e.new=null,e.soldierFishLabel=null,e.eliteFishLabel=null,e.bulletHurt=null,e.shopTimer=1,e.shopTotalTime=0,e.eliteFishData=[],e.skillData=[],e.buffFish=[],e.positionOrder=0,e.eliteFish=null,e.cdMaskArr=[],e.skillBulletArr=[],e.skillFunctionArr=[{beginFunc:e.doubleShoot,endFunc:e.doubleShootEnd},{beginFunc:e.punctureShoot,endFunc:e.punctureShootEnd},{beginFunc:e.springShoot,endFunc:e.springShootEnd},{beginFunc:e.strongShoot,endFunc:e.strongShootEnd}],e.Info=void 0,e.firstLoadArea=null,e}return n(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,l.default.width=cc.winSize.width,l.default.height=cc.winSize.height,this.eliteFishData=this.fishJson.json,this.skillData=this.skillJson.json,this.goldEndPosition=cc.find("goldFrame",cc.director.getScene().getChildByName("Canvas")).position,this.initPools(),this.initPlayerInfo(),this.refreshShop(),null===cc.sys.localStorage.getItem("first")?(console.log("\u7b2c\u4e00\u6b21\u767b\u9646"),this.openNewhandPromptBox()):console.log("\u4f60\u662f\u8001\u73a9\u5bb6")},e.prototype.onEnable=function(){var t=this;this.clickArea.on(cc.Node.EventType.TOUCH_START,this.clickStart,this),cc.director.on("clearBuff",this.removeBuff,this),cc.director.on("updateSoldierFishLabel",this.updateSoldierFishLabel,this),cc.director.on("updateEliteFishLabel",this.updateEliteFishLabel,this),this.soldierFishLabel.node.on(cc.Node.EventType.MOUSE_ENTER,function(e){return t.showInfo(e.getLocation(),1)},this),this.soldierFishLabel.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){return t.moveInfo(e.getLocation())},this),this.soldierFishLabel.node.on(cc.Node.EventType.MOUSE_LEAVE,function(e){return t.hideInfo()},this),this.eliteFishLabel.node.on(cc.Node.EventType.MOUSE_ENTER,function(e){return t.showInfo(e.getLocation(),2)},this),this.eliteFishLabel.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){return t.moveInfo(e.getLocation())},this),this.eliteFishLabel.node.on(cc.Node.EventType.MOUSE_LEAVE,function(e){return t.hideInfo()},this)},e.prototype.onDisable=function(){this.unschedule(this.createSoldier),cc.director.off("clearBuff"),cc.director.off("updateSoldierFishLabel"),cc.director.off("updateEliteFishLabel")},e.prototype.start=function(){},e.prototype.update=function(t){l.default.canCreateFish&&(l.default.createFishTimer>=3&&(this.createSoldier(),l.default.createFishTimer=0),l.default.createFishTimer+=t),l.default.fishNum>l.default.maxFishNum&&(this.restart(),this.openSinglePromptBox("\u6e38\u620f\u5931\u8d25","\u786e\u5b9a")),l.default.killNum>=l.default.maxKillNum&&(this.createElite(),l.default.killNum=0),this.shopTotalTime+=t,this.shopTimer+=t,this.shopTimer>=1&&(this.shopTimer=0,this.updateShopTimer()),this.shopTotalTime>=this.refreshTime&&this.refreshShop()},e.prototype.openNewhandPromptBox=function(){var t=this,e=u.default.promptBoxPool.get();e.parent=cc.find("Canvas"),e.getChildByName("text").getComponent(cc.Label).string="\u662f\u5426\u8fdb\u884c\u65b0\u624b\u5f15\u5bfc";var o=e.getChildByName("doubleButton");o.active=!0,o.getChildByName("text1").getComponent(cc.Label).string="\u662f",o.getChildByName("text2").getComponent(cc.Label).string="\u5426",o.getChildByName("button1").once(cc.Node.EventType.TOUCH_END,function(){cc.director.resume(),u.default.promptBoxPool.put(e),cc.director.on("newhandEnd",t.openSinglePromptBox.bind(t,"\u65b0\u624b\u5f15\u5bfc\u5df2\u7ecf\u7ed3\u675f","\u786e\u5b9a",t.newhandEndButtonEvent),t),t.firstLoadingEvent()}),o.getChildByName("button2").once(cc.Node.EventType.TOUCH_END,function(){cc.director.resume(),u.default.promptBoxPool.put(e),cc.sys.localStorage.setItem("first",1)}),this.scheduleOnce(function(){return cc.director.pause()},0)},e.prototype.openSinglePromptBox=function(t,e,o){var n=this,i=u.default.promptBoxPool.get();i.parent=cc.find("Canvas"),i.getChildByName("text").getComponent(cc.Label).string=t;var r=i.getChildByName("singleButton");r.active=!0,r.getChildByName("text").getComponent(cc.Label).string=e,r.getChildByName("button").once(cc.Node.EventType.TOUCH_END,function(){cc.director.resume(),u.default.promptBoxPool.put(i),o&&o.call(n)}),this.scheduleOnce(function(){return cc.director.pause()},0)},e.prototype.newhandEndButtonEvent=function(){this.restart(),this.releaseNewHandRes()},e.prototype.firstLoadingEvent=function(){l.default.canCreateFish=!1,this.loadNewHand()},e.prototype.loadNewHand=function(){var t=this;cc.loader.loadRes("prefab/firstLoadArea",function(e,o){o instanceof cc.Prefab&&(t.firstLoadArea=cc.instantiate(o),t.firstLoadArea.parent=cc.find("Canvas"))})},e.prototype.releaseNewHandRes=function(){this.firstLoadArea.destroy(),this.firstLoadArea=null,cc.loader.releaseRes("prefab/firstLoadArea")},e.prototype.updateShopTimer=function(){var t=this.shop.getChildByName("shop").getChildByName("timeLabel").getComponent(cc.Label),e=cc.find("Canvas/bottomBorder/shop/timeLabel").getComponent(cc.Label),o=Math.ceil(this.refreshTime-this.shopTotalTime);t.string="\u5237\u65b0\u5269\u4f59\u65f6\u95f4 \uff1a"+o+"s",e.string="\u5269\u4f59\u65f6\u95f4 \uff1a"+o+"s"},e.prototype.initPools=function(){u.default.fishPool=new a.default(10,this.fish,"fish"),u.default.bulletPool=new a.default(10,this.bullet,"bullet"),u.default.goldPool=new a.default(10,this.gold,"gold"),u.default.numListPool=new a.default(3,this.numList,"numList"),u.default.cdMaskPool=new a.default(3,this.cdMask,"cdMask"),u.default.infoPool=new a.default(1,this.info,"info"),u.default.tipsPool=new a.default(1,this.tips,"tips"),u.default.promptBoxPool=new a.default(1,this.promptBox,"promptBox")},e.prototype.initPlayerInfo=function(){var t=cc.find("barrel",this.gun);p.default.init(t,this.mask)},e.prototype.createSoldier=function(){l.default.fishNum++,this.updateSoldierFishLabel();var t=u.default.fishPool.get();t.parent=this.fishArea,t.getComponent("fish").initFish(l.default.stage,1,this.dropGold.bind(this)),l.default.curBuff&&(t.getComponent(f.Buff[l.default.curBuff]).enabled=!0),cc.log(t),this.positionOrder>2&&(this.positionOrder=0),this.initFishPosition(t),this.positionOrder++,cc.log(t)},e.prototype.createElite=function(){this.eliteFish||(this.eliteFish=cc.instantiate(this.fish),this.eliteFish.getComponent("fish").isElite=!0),this.eliteFish.parent=this.eliteFishArea,this.eliteFish.active=!0,this.eliteFish.getComponent("fish").reuse();var t=Math.floor(Math.random()*this.eliteFishData.length),e=this.eliteFishData[t],o=e.name;this.updateEliteFishLabel(o),this.eliteFish.getComponent(cc.BoxCollider).size.width=e.collisionBox.w,this.eliteFish.getComponent(cc.BoxCollider).size.height=e.collisionBox.h;var n=this.eliteFish.getChildByName("bg").getComponent(cc.Animation),i=n.getClips();n.play(i[e.number].name),l.default.curBuff=Number(e.number),this.eliteFish.getComponent("fish").initFish(e.hp,e.speed,this.dropGold.bind(this)),this.positionOrder>2&&(this.positionOrder=0),this.initFishPosition(this.eliteFish),this.positionOrder++,this.addBuff()},e.prototype.addBuff=function(){this.fishArea.children.forEach(function(t){t.getComponent(f.Buff[l.default.curBuff]).enabled=!0}),this.changeFishInfo(1)},e.prototype.removeBuff=function(){this.fishArea.children.length>0&&this.fishArea.children.forEach(function(t){t.getComponent(f.Buff[l.default.curBuff]).enabled=!1}),this.changeFishInfo(0)},e.prototype.changeFishInfo=function(t){if(t)switch(l.default.curBuff){case 1:l.default.SoldierInfo.speed+=1;break;case 2:l.default.SoldierInfo.hp+=2}else switch(l.default.curBuff){case 1:l.default.SoldierInfo.speed-=1;break;case 2:l.default.SoldierInfo.hp-=2}},e.prototype.updateSoldierFishLabel=function(){this.soldierFishLabel.string="\u5b58\u6d3b\u58eb\u5175\u9c7c \uff1a"+l.default.fishNum},e.prototype.updateEliteFishLabel=function(t){void 0===t&&(t="\u65e0"),this.eliteFishLabel.string="\u5f53\u524d\u7cbe\u82f1\u9c7c \uff1a"+t},e.prototype.initFishPosition=function(t){switch(this.positionOrder){case 0:t.x=-l.default.width/2,t.y=.8*(Math.random()-.5)*(l.default.height-120),t.rotation=90,t.scaleX=1,cc.log(t);break;case 1:t.x=.8*(Math.random()-.5)*l.default.width,t.y=l.default.height/2-40,t.rotation=180,t.scaleX=1,cc.log(t);break;case 2:t.x=l.default.width/2,t.y=.8*(Math.random()-.5)*(l.default.height-120),t.rotation=-90,t.scaleX=-1,cc.log(t)}},e.prototype.dropGold=function(t){var e=u.default.goldPool.get();e.parent=this.dropArea,e.position=t;var o=cc.moveTo(1,this.goldEndPosition),n=cc.scaleTo(1,0),i=cc.callFunc(function(){u.default.goldPool.put(e),p.default.addGold(1)});e.runAction(cc.sequence(cc.spawn(o,n),i))},e.prototype.clickStart=function(t){var e=t.getLocation(),o=h.default.worldToNode(e,this.clickArea);cc.log(o);var n=this.gun.position;this.attack(o,n),this.scheduleOnce(this.skillEvent,.2)},e.prototype.skillEvent=function(){var t=this,e=this.skillBulletArr.filter(function(e){e.curTimes++;var o=t.getSkillOrder(e.number),n=t.skillsArea.children[o],i=e.maxTimes-e.curTimes;n.getChildByName("cdMask").getComponent("cdMask").writeText("\u5269\u4f59:"+i+"\u679a");if(e.curTimes>=e.maxTimes){var r=e.cd;return n&&(t.skillFunctionArr[e.number].endFunc.call(t),t.cdEvent(r,n)),!1}return!0});this.skillBulletArr=e},e.prototype.getSkillOrder=function(t){for(var e=0,o=l.default.curSkills.length;e<o;e++)if(l.default.curSkills[e].number===t)return e;return-1},e.prototype.attack=function(t,e){var o=this.positionToDirection(t,e),n=180*Math.atan2(o.x,o.y)/Math.PI;n=this.limitRotation(n),this.gun.rotation=n;for(var i=cc.moveBy(.1,0,-35),r=cc.moveBy(.1,0,35),c=function(t){void 0===t&&(t="");var e=u.default.bulletPool.get();e.parent=this.bulletArea;var o=cc.find("launch"+t,this.gun).position;e.position=h.default.nodeToNode(o,this.gun,this.bulletArea),e.rotation=n;var i=this.rotaionToDirection(n);e.getComponent("bullet").init(i,1)},s=0,a=p.default.barrel.length;s<a;s++)a>1?p.default.barrel[s].runAction(cc.sequence(i,r,cc.callFunc(c.bind(this,s.toString()))).clone()):p.default.barrel[s].runAction(cc.sequence(i,r,cc.callFunc(c.bind(this,""))).clone())},e.prototype.limitRotation=function(t){var e=t;return 1===p.default.barrel.length?(e>45&&(this.setTips("\u8d85\u51fa\u5c04\u51fb\u8303\u56f4"),e=45),e<-45&&(this.setTips("\u8d85\u51fa\u5c04\u51fb\u8303\u56f4"),e=-45)):2===p.default.barrel.length&&(e>25&&(this.setTips("\u8d85\u51fa\u5c04\u51fb\u8303\u56f4"),e=25),e<-25&&(this.setTips("\u8d85\u51fa\u5c04\u51fb\u8303\u56f4"),e=-25)),e},e.prototype.rotaionToDirection=function(t){var e=t*Math.PI/180,o=Math.sin(e),n=Math.cos(e);return new cc.Vec2(o,n)},e.prototype.positionToDirection=function(t,e){return t.sub(e).normalize()},e.prototype.restart=function(){this.gun.rotation=0,!0===this.eliteFish.active&&(this.eliteFish.active=!1,this.eliteFish.parent=null,this.removeBuff()),l.default.shop&&this.closeShopEvent(),this.initPlayerInfo(),l.default.init(),this.updateSoldierFishLabel(),this.updateEliteFishLabel(),this.putAllToPool(this.dropArea.children,u.default.goldPool),this.putAllToPool(this.fishArea.children,u.default.fishPool),this.putAllToPool(this.bulletArea.children,u.default.bulletPool),this.putAllToPool(this.mask.children.slice(1),u.default.numListPool),this.putAllToPool(this.cdMaskArr,u.default.cdMaskPool),this.mask.children[0].y=0,this.clearSkillEffect(),this.putSkillData(),this.refreshShop()},e.prototype.clearSkillEffect=function(){var t=this;this.skillBulletArr.forEach(function(e){var o=e.number;t.skillFunctionArr[o].endFunc.call(t)}),this.skillBulletArr=[]},e.prototype.putAllToPool=function(t,e){for(var o=t.length-1;o>=0;o--)e.put(t[o])},e.prototype.openShopEvent=function(){this.new.active&&(this.new.active=!1),this.shop.active=!0,l.default.shop=!0},e.prototype.closeShopEvent=function(){this.shop.active=!1,l.default.shop=!1},e.prototype.shopClickEvent=function(t,e){var o=l.default.curGoods[e].price;if(o<=p.default.gold){p.default.addGold(-o),l.default.curGoods[e].exist=!1;var n=l.default.curGoods[e].number;l.default.curGoods.forEach(function(t){t.number===n&&(t.price+=5)}),this.putShopData();for(var i=0,r=l.default.curSkills.length;i<r;i++)if(l.default.curSkills[i].number==n)return l.default.curSkills[i].lv++,this.skillUp(l.default.curSkills[i]),void this.putSkillData();if(l.default.curSkills.length<3){var c={number:n,lv:1,cdChange:0,timesChange:0};l.default.curSkills.push(c),this.putSkillData()}else this.setTips("\u6280\u80fd\u680f\u5df2\u6ee1")}else this.setTips("\u91d1\u5e01\u4e0d\u8db3")},e.prototype.setTips=function(t){l.default.Tips&&l.default.Tips.getComponent("tips").resetTips();var e=u.default.tipsPool.get();e.parent=this.tipsArea,e.getComponent("tips").init(t)},e.prototype.skillUp=function(t){Math.random()<=.3?t.cdChange++:t.timesChange++},e.prototype.putSkillData=function(){for(var t=0;t<3;t++){var e=this.skillsArea.children[t].getChildByName("name"),o=this.skillsArea.children[t].getChildByName("lv");l.default.curSkills[t]?(e.active=!0,e.getComponent(cc.Label).string=this.skillData[l.default.curSkills[t].number].name,o.active=!0,o.getComponent(cc.Label).string="LV "+l.default.curSkills[t].lv):(e.getComponent(cc.Label).string="",o.getComponent(cc.Label).string="",e.active=!1,o.active=!1)}},e.prototype.refreshShop=function(){for(var t=this.getMaxSkills(),e=0;e<2;e++){var o=Math.floor(Math.random()*this.skillData.length);o=this.excludeMaxSkill(o,t);var n=this.getSkillOrder(o),i=this.skillData[o].price;if(-1!=n)i+=5*l.default.curSkills[n].lv;l.default.curGoods[e]={number:o,price:i,exist:!0}}this.putShopData(),this.shopTimer=1,this.shopTotalTime=0,this.updateShopTimer(),this.new.active||(this.new.active=!0)},e.prototype.quickRefresh=function(){p.default.gold>=5?(p.default.addGold(-5),this.refreshShop(),this.setTips("\u5237\u65b0\u6210\u529f")):this.setTips("\u91d1\u5e01\u4e0d\u8db3")},e.prototype.excludeMaxSkill=function(t,e){if(!e.includes(t))return t;var o=t+1;o>=this.skillData.length&&(o=0),this.excludeMaxSkill(o,e)},e.prototype.getMaxSkills=function(){var t=[];return l.default.curSkills.forEach(function(e){e.lv===l.default.MaxLv&&t.push(e.number)}),t},e.prototype.putShopData=function(){for(var t=this.shop.getChildByName("shop").getChildByName("layout").children,e=0;e<2;e++)t[e].children[0].getComponent(cc.Label).string=this.skillData[l.default.curGoods[e].number].name,t[e].children[1].getComponent(cc.Label).string=l.default.curGoods[e].price.toString(),l.default.curGoods[e].exist?(t[e].children[2].getComponent(cc.Button).interactable=!0,t[e].children[2].getChildByName("label").getComponent(cc.Label).string="\u8d2d\u4e70"):(t[e].children[2].getComponent(cc.Button).interactable=!1,t[e].children[2].getChildByName("label").getComponent(cc.Label).string="\u5df2\u552e\u7a7a")},e.prototype.skillClickEvent=function(t,e){var o=l.default.curSkills[e];if(o){var n=o.number,i=this.skillData[n].times+o.timesChange,r=this.skillData[n].cd-o.cdChange;this.skillBulletArr.push({number:n,curTimes:0,maxTimes:i,cd:r}),this.putCdMask(this.skillsArea.children[e],i),this.useSkill(parseInt(e))}else this.setTips("\u6b64\u6280\u80fd\u680f\u6ca1\u6709\u6280\u80fd")},e.prototype.putCdMask=function(t,e){var o=u.default.cdMaskPool.get();o.getComponent("cdMask").writeText("\u5269\u4f59:"+e+"\u679a"),o.parent=t,this.cdMaskArr.push(o)},e.prototype.useSkill=function(t){var e=l.default.curSkills[t].number;this.skillFunctionArr[e].beginFunc.call(this)},e.prototype.doubleShoot=function(){var t=cc.find("barrel",this.gun),e=cc.find("doubleBarrel",this.gun);t.active=!1,e.active=!0,p.default.barrel=e.children},e.prototype.doubleShootEnd=function(){var t=cc.find("barrel",this.gun),e=cc.find("doubleBarrel",this.gun);t.active=!0,e.active=!1,p.default.barrel=t.children},e.prototype.punctureShoot=function(){p.default.isPuncture=!0,p.default.bulletHurt++,this.bulletHurt.string="\u5b50\u5f39\u4f24\u5bb3: "+p.default.bulletHurt},e.prototype.punctureShootEnd=function(){p.default.isPuncture=!1,p.default.bulletHurt--,this.bulletHurt.string="\u5b50\u5f39\u4f24\u5bb3: "+p.default.bulletHurt},e.prototype.springShoot=function(){p.default.isSpring=!0},e.prototype.springShootEnd=function(){p.default.isSpring=!1},e.prototype.strongShoot=function(){p.default.bulletHurt+=2,this.bulletHurt.string="\u5b50\u5f39\u4f24\u5bb3: "+p.default.bulletHurt},e.prototype.strongShootEnd=function(){p.default.bulletHurt-=2,this.bulletHurt.string="\u5b50\u5f39\u4f24\u5bb3: "+p.default.bulletHurt},e.prototype.cdEvent=function(t,e){e.getChildByName("cdMask").getComponent("cdMask").startCd(t)},e.prototype.showInfo=function(t,e){var o=u.default.infoPool.get();this.Info=o,this.Info.getComponent("info").updatePosition(t),this.Info.getComponent("info").decideType(e)},e.prototype.moveInfo=function(t){this.Info&&this.Info.getComponent("info").updatePosition(t)},e.prototype.hideInfo=function(){u.default.infoPool.put(this.Info),this.Info.getComponent("info").decideType(0)},i([s({type:cc.Node,tooltip:"\u666e\u901a\u9c7c\u5c42"})],e.prototype,"fishArea",void 0),i([s({type:cc.Node,tooltip:"\u7cbe\u82f1\u9c7c\u5c42"})],e.prototype,"eliteFishArea",void 0),i([s({type:cc.Node,tooltip:"\u5b50\u5f39\u5c42"})],e.prototype,"bulletArea",void 0),i([s({type:cc.Node,tooltip:"\u6389\u843d\u5c42"})],e.prototype,"dropArea",void 0),i([s({type:cc.Node,tooltip:"\u70b9\u51fb\u5c42"})],e.prototype,"clickArea",void 0),i([s({type:cc.Node,tooltip:"\u63d0\u793a\u6846\u5c42"})],e.prototype,"tipsArea",void 0),i([s({type:cc.Node,tooltip:"\u5546\u5e97"})],e.prototype,"shop",void 0),i([s({type:cc.Node,tooltip:"\u6280\u80fd\u680f"})],e.prototype,"skillsArea",void 0),i([s({type:cc.Prefab,tooltip:"\u9c7c\u7684\u9884\u5236"})],e.prototype,"fish",void 0),i([s({type:cc.Prefab,tooltip:"\u5b50\u5f39\u9884\u5236"})],e.prototype,"bullet",void 0),i([s({type:cc.Prefab,tooltip:"\u91d1\u5e01\u7684\u9884\u5236"})],e.prototype,"gold",void 0),i([s({type:cc.Prefab,tooltip:"\u6570\u5b57\u5217\u8868\u9884\u5236"})],e.prototype,"numList",void 0),i([s({type:cc.Prefab,tooltip:"cd\u8499\u5c42\u9884\u5236"})],e.prototype,"cdMask",void 0),i([s({type:cc.Prefab,tooltip:"\u4fe1\u606f\u60ac\u6d6e\u6846\u9884\u5236"})],e.prototype,"info",void 0),i([s({type:cc.Prefab,tooltip:"\u63d0\u793a\u6846"})],e.prototype,"tips",void 0),i([s({type:cc.Prefab,tooltip:"\u5927\u63d0\u793a\u6846"})],e.prototype,"promptBox",void 0),i([s({type:cc.Node,tooltip:"\u6570\u5b57\u5217\u8868\u7236\u8282\u70b9"})],e.prototype,"mask",void 0),i([s({type:cc.Node,tooltip:"\u70ae\u53f0"})],e.prototype,"gun",void 0),i([s({type:cc.JsonAsset,tooltip:"\u9c7c\u7684\u5c5e\u6027\u8868"})],e.prototype,"fishJson",void 0),i([s({type:cc.JsonAsset,tooltip:"\u6280\u80fd\u7684\u6570\u636e\u8868"})],e.prototype,"skillJson",void 0),i([s({type:cc.Integer,tooltip:"\u5546\u5e97\u5237\u65b0\u95f4\u9694(\u5355\u4f4d/s)"})],e.prototype,"refreshTime",void 0),i([s({type:cc.Node,tooltip:"\u5546\u5e97\u7684new\u63d0\u793a"})],e.prototype,"new",void 0),i([s({type:cc.Label,tooltip:"\u9876\u90e8\u58eb\u5175\u9c7c\u6587\u5b57"})],e.prototype,"soldierFishLabel",void 0),i([s({type:cc.Label,tooltip:"\u9876\u90e8\u7cbe\u82f1\u9c7c\u6587\u5b57"})],e.prototype,"eliteFishLabel",void 0),i([s({type:cc.Label,tooltip:"\u9876\u90e8\u5b50\u5f39\u4f24\u5bb3\u6587\u5b57"})],e.prototype,"bulletHurt",void 0),e=i([c],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../Common/commonPool":"commonPool","../../Common/convertPoint":"convertPoint","./model/buffEnum":"buffEnum","./model/gameStatus":"gameStatus","./model/player":"player","./model/pools":"pools"}],gameStatus:[function(t,e,o){"use strict";cc._RF.push(e,"4739a9Fe1lCX7I1+dS/uu9c","gameStatus"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.init=function(){this.stage=1,this.fishNum=0,this.maxFishNum=10,this.killNum=0,this.maxKillNum=5,this.curBuff=0,this.curGoods=[],this.curSkills=[],this.MaxLv=5,this.SoldierInfo={hp:1,speed:1},this.Tips=void 0,this.createFishTimer=2.5,this.canCreateFish=!0,this.shop=!1},t.width=1280,t.height=720,t.stage=1,t.fishNum=0,t.maxFishNum=10,t.killNum=0,t.maxKillNum=5,t.curBuff=0,t.curGoods=[],t.curSkills=[],t.MaxLv=5,t.SoldierInfo={hp:1,speed:1},t.Tips=void 0,t.createFishTimer=2.5,t.canCreateFish=!0,t.shop=!1,t}();o.default=n,cc._RF.pop()},{}],gold:[function(t,e,o){"use strict";cc._RF.push(e,"a077e9prUZPcaJ4F2MOyQHQ","gold");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.node.getComponent(cc.Animation).play()},e.prototype.start=function(){},e.prototype.reuse=function(){this.node.getComponent(cc.Animation).play(),this.node.scale=1},e.prototype.unuse=function(){},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],hpUp:[function(t,e,o){"use strict";cc._RF.push(e,"7404faaE4JL47AXLcSdc+MV","hpUp");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.baseFish=this.node.getComponent("fish")},e.prototype.start=function(){},e.prototype.onEnable=function(){this.baseFish.maxHp+=2,this.baseFish.hp+=2},e.prototype.onDisable=function(){this.baseFish.maxHp-=2},e.prototype.update=function(t){},e.prototype.onDestroy=function(){},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],http:[function(t,e,o){"use strict";cc._RF.push(e,"d9911ylTdNEuboOZwFdZBYg","http"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){this.xhr=null,this.xhr=new XMLHttpRequest}}();o.default=n,cc._RF.pop()},{}],info:[function(t,e,o){"use strict";cc._RF.push(e,"42403V/fYxBp4KYHbQQaPpw","info");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../model/gameStatus"),c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fishJson=null,e.infoArea=void 0,e.type=0,e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.update=function(t){this.updateContent()},e.prototype.updateContent=function(){if(1===this.type){r.default.SoldierInfo;this.putString("hp","hp:"+r.default.SoldierInfo.hp),this.putString("sp","spd:"+r.default.SoldierInfo.speed),this.putString("text","\u666e\u901a\u7684\u9c7c")}else if(2===this.type)if(r.default.curBuff){var t=this.fishJson.json[r.default.curBuff-1];this.putString("hp","hp:"+t.hp),this.putString("sp","spd:"+t.speed),this.putString("text",t.text)}else this.putString("hp",""),this.putString("sp",""),this.putString("text","")},e.prototype.putString=function(t,e){this.node.getChildByName(t).getComponent(cc.Label).string=e},e.prototype.updatePosition=function(t){var e=this.infoArea.convertToNodeSpaceAR(t);this.node.setPosition(e.x,e.y)},e.prototype.decideType=function(t){this.type=t},e.prototype.resize=function(t,e){this.node.width=t,this.node.height=e},e.prototype.reuse=function(){this.infoArea||(this.infoArea=cc.find("Canvas/infoArea")),this.node.parent=this.infoArea},i([a({type:cc.JsonAsset,tooltip:"\u7cbe\u82f1\u9c7c\u6570\u636e"})],e.prototype,"fishJson",void 0),e=i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../model/gameStatus":"gameStatus"}],numList:[function(t,e,o){"use strict";cc._RF.push(e,"97c659eJcNMdZZDP/+0Hgy4","numList");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tag=0,e.num=0,e}return n(e,t),e.prototype.onLoad=function(){this.node.x=0,this.node.y=0},e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.reuse=function(){this.node.x=0,this.node.y=0},e.prototype.unuse=function(){this.node.stopAllActions()},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],player:[function(t,e,o){"use strict";cc._RF.push(e,"6e67cSC4DtDIaXBvKoHMYv5","player");var n=this&&this.__read||function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,i,r=o.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(n=r.next()).done;)c.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(o=r.return)&&o.call(r)}finally{if(i)throw i.error}}return c},i=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../model/pools"),c=function(){function t(){}return t.init=function(t,e){this.barrel=[t],this.gold=0,this.goldMask=e},t.addGold=function(t){this.gold+=t;var e=this.goldMask.children[0].height/10,o=this.getDigits(this.gold),n=this.goldMask.children,i=o.length,c=n.length;if(c<i)for(var s=1;s<=i-c;s++){r.default.numListPool.get().parent=this.goldMask}else if(c>i)for(s=c-1;s>=i;s--)this.remove(n[s]);var a=0,l=function(t){var n=o[t],i=u.goldMask.children[a];i.stopAllActions(),i.runAction(cc.sequence(cc.moveTo(.5,0,-e*n),cc.callFunc(function(){return i.y=Math.round(i.y)}))),a++},u=this;for(s=i-1;s>=0;s--)l(s)},t.remove=function(t){t.stopAllActions(),t.runAction(cc.sequence(cc.moveTo(.5,0,0),cc.callFunc(function(){return r.default.numListPool.put(t)})))},t.getDigits=function(t){var e=t.toString();return i(e).map(Number)},t.reduce=function(){},t.barrel=[],t.gold=0,t.goldMask=null,t.bulletHurt=1,t.isPuncture=!1,t.isSpring=!1,t}();o.default=c,cc._RF.pop()},{"../model/pools":"pools"}],pools:[function(t,e,o){"use strict";cc._RF.push(e,"d4cf8hdNIZA25iPqElqVLEs","pools"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){return function(){}}();o.default=n,cc._RF.pop()},{}],promptBox:[function(t,e,o){"use strict";cc._RF.push(e,"441a1CuOOVCfbqAbcJ+wg+z","promptBox");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.reuse=function(){},e.prototype.unuse=function(){this.node.getChildByName("singleButton").active&&(this.node.getChildByName("singleButton").active=!1),this.node.getChildByName("doubleButton").active&&(this.node.getChildByName("doubleButton").active=!1)},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],select:[function(t,e,o){"use strict";cc._RF.push(e,"4d252dggT5JfKJeGfq5cBw7","select");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./checkerboard"),c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checkerboard=null,e.canAddChess=!1,e.okCount=0,e}return n(e,t),e.prototype.start=function(){cc.log(cc.find("white",this.node))},e.prototype.onDisable=function(){if(!r.default.instance.canDown){var t=r.default.instance.getRandomPosition(),e=r.default.instance.changeArrayToNode(t);r.default.instance.addChess(t,e,r.default.Graphics,r.default.color)}},e.prototype.selectBlack=function(){this.toSmall()},e.prototype.selectWhite=function(){r.default.instance.canDown=!1,this.toSmall()},e.prototype.toSmall=function(){var t=this;this.node.children.forEach(function(e){cc.tween(e).to(1,{scale:.1}).call(function(){t.node.active=!1}).start()})},i([a(r.default)],e.prototype,"checkerboard",void 0),e=i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./checkerboard":"checkerboard"}],speedUp:[function(t,e,o){"use strict";cc._RF.push(e,"345646cPchHVK4BjpgAkSMU","speedUp");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.baseFish=this.node.getComponent("fish")},e.prototype.start=function(){},e.prototype.onEnable=function(){this.baseFish.unBorderSpeed+=1},e.prototype.onDisable=function(){this.baseFish.unBorderSpeed-=1},e.prototype.onDestroy=function(){},e=i([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],text:[function(t,e,o){"use strict";cc._RF.push(e,"b0faf8VP2lKeaOvQXIaFYo4","text");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc.Enum({"\u662f":1,"\u5426":0}),c=cc._decorator,s=c.ccclass,a=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Flash=0,e.OneByOne=0,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this.node.getComponent(cc.Label).string;this.OneByOne&&this.putTextOneByOne(t),this.Flash&&this.putFlashText()},e.prototype.onDisable=function(){this.resetText()},e.prototype.putText=function(t){this.node.getComponent(cc.Label).string=t},e.prototype.putTextOneByOne=function(t){var e=t.split(""),o=0,n=e.length,i=this.node.getComponent(cc.Label);i.string="";this.schedule(function(){"."===e[o]||("/"===e[o]?i.string="":i.string+=e[o]),o++},.15,n-1)},e.prototype.putFlashText=function(){this.node.runAction(cc.repeatForever(cc.sequence(cc.fadeTo(.5,50),cc.fadeTo(.5,255))))},e.prototype.resetText=function(){this.node.stopAllActions(),this.node.opacity=255},i([a({tooltip:"\u662f\u5426\u95ea\u70c1",type:r})],e.prototype,"Flash",void 0),i([a({tooltip:"\u662f\u5426\u6253\u5b57",type:r})],e.prototype,"OneByOne",void 0),e=i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],tips:[function(t,e,o){"use strict";cc._RF.push(e,"50044KayK1PGIIYHgyAnWBX","tips");var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,c=r.ccclass,s=(r.property,t("../model/pools")),a=t("../model/gameStatus"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.putText=function(t){this.node.getChildByName("text").getComponent(cc.Label).string=t},e.prototype.fadeOut=function(){var t=this,e=cc.sequence(cc.fadeTo(.5,0),cc.callFunc(function(){return t.hide()}));this.node.runAction(e)},e.prototype.hide=function(){this.putText(""),this.node.opacity=255,a.default.Tips=void 0,s.default.tipsPool.put(this.node)},e.prototype.stopAction=function(){this.node.stopAllActions()},e.prototype.updateSize=function(){var t=this.node.getChildByName("text").width;this.node.getChildByName("bg").width=t},e.prototype.init=function(t){this.putText(t),this.scheduleOnce(this.updateSize,0),this.fadeOut(),a.default.Tips=this.node},e.prototype.resetTips=function(){this.stopAction(),this.hide()},e=i([c],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../model/gameStatus":"gameStatus","../model/pools":"pools"}]},{},["commonPool","convertPoint","http","buffCtl","hpUp","speedUp","gameCtl","buffEnum","gameStatus","player","pools","arrow","bullet","cdMask","firstLoadArea","fish","gold","info","numList","promptBox","text","tips","checkerboard","select"]);